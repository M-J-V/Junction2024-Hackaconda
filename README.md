# Junction2024-Hackaconda
<!-- A lot of people feel unheard and unrepresented in the current democracy. This results in people‚Äôs opinions not being taken into consideration. Which is the foundation of democracy. This must change. To do this, we introduce Survall, a surveying platform that serves you! 

An integral concern for such a tool is security. Our tool is designed to be applicable to various tiers of authentication. For example, a government can use government credentials to authenticate users. Whilst small groups, can simply use a password. The authenticator hashes the identity, which is sent to the voting. This makes sure that no actor can trace the voting back to the person, making it anonymous

After authentication we get to the voting screen. On here you see a randomly chosen discussion point, along with its description. Here you give your opinion on the topic. After sharing your opinion, you get to the feedback page where you can share your opinion and give feedback on the relevance of the discussion point. After submitting your vote and opinion you can also see the general opinion of others, before moving on to the next discussion.

After voting, there is no saved connection between you and your submitted information, only that you shared your opinions. All votes and discussions are saved within the discussion.

When a certain discussion has no clear majority and people decide it is relevant to current affairs, a new follow-up question is generated to continue the conversation. To do this, a large language model looks at all the received votes and discussions to determine what people find to be an important topic in the discussion. The new question is then added to the pool of discussions that users can answer. By generating new related questions, we aim to discover the root issue at the heart of important topics. 

In the history tab you can view which discussions you interacted with. Only the general opinion is shown here since your specific vote is not saved. All concluded discussions that are now closed can be viewed in the overview page.

This tool is easily accessible and simple to use. It can be presented in the form of an app or website, but it can also be set up as feedback kiosks at public locations, including community centres, train stations, libraries, etc. By providing these opportunities for participation at many locations with such a simple interface, making your voice heard has never¬†been¬†easier. -->

## ‚ùî Problem Description:
A lot of people feel unheard and unrepresented in the current democracy. This results in people‚Äôs opinions not being taken into consideration. Which is the foundation of democracy. This must change. To do this, we introduce Survall, a surveying platform that serves you!

## üåç Real-World Impact:
The goals of our platform are multifold: 

- **Ease of use** to reduce the barier of participation as much as possible, aiming to encourage participation in the democratic process. Whether as an app, website, or kiosk in public spaces, this easy-to-use tool makes it simple for anyone to participate and have their voice heard in ongoing conversations.

- **Automatisation** leveraging LLMs to moderate the discussions by generating relevant follow-up questions that take into the account what the users find important based on their discussion. 
This reduces the amount of human moderation needed to maintain the platform.

- **Anonymity** is an important aspect to maintain, as it allows users to share their opinions without fear of it coming back to them. 
This is achieved by dividing the authentication and the voting on two different services.
The authentication service cannot influence the voting, but can verify identities.
The voting service cannot read identities, nor how individual users voted. 

- **Transparency** is maintained by showing people the aggregated statistics of all discussed questions, allowing them to verify the results themselves. This allows users to build up trust in the platform, encouraging its use and thus in extention the participation in the democratic process.  


<!-- This platform lets you share your thoughts on a variety of randomly chosen discussion topics through a quick and simple voting process. After casting your vote, you can leave feedback on the topic's relevance and see how others feel too. If a discussion doesn‚Äôt have a clear majority, a follow-up question is generated by a language model to dig deeper into the issue. Your opinions are kept anonymous‚Äîonly the general opinion of the group is shown in your history. -->


## üí≠ Future Enhancements:
As a proof of concept, Survall, has multiple opportunities to iterate and expand on the concept, below are some of our interests:

- **Moderation Tools:** Creating admin pages gives administrators and moderators an easy platform to add new discussion points and review discussions.

- **Security Integration:** Due to its modular setup, the Survall authentication server can be integrated with a trusted platform based on the hosts needs. For example, nation-wide a goverment can use their authentication platform to ensure only their citizens can interact with their Survall intance. In the private sector, companies can use public single sign-on services like GitHub or link it with their own platform. 

- **LLM Bias reduction and finetuning:** Large Language Models are known to be inherently biased and so care should be taken to mitigate this infuencing the discussion. 


## üìì Setup
The Survall application consists of three components, the client which which the users interact, the authetication server which sets up secure sessions, and the backend server which serves questions to the clients which they can answer.

The chapters below detail the setup process, split between the frontend client and the backend servers.

## üîß Frontend setup
The frontend is using Vue and Vite give the user their UI.
All of the files for the frontend are in the `survall_frontend` directory.

### Frontend preparations
Install the dependencies for the frontend using `npm`.
```sh
#in the ./survall_frontend directory
npm install
```

Furthermore, you need to set up your `.env` file.
The `.env.example` has the same layout as a typical .env file.
The `VITE_AUTH_DOMAIN` should be the address to access the authorization service.
The `VITE_API_DOMAIN` should ebt the address to access the voting service.

If these are set you should be prepared to run the front end.

### Compile and Hot-Reload for Development
The hot-reload mode allows you to access the frontend with hot reload.
Any change you make to the application will be directly updated in your browser.
To run the frontend in development mode, run the following command.

```sh
#in the ./survall_frontend directory
npm run dev
```

The output will then show on which port the frontend is running.
Access the address in your browser and the frontend will be displayed.

### Compile and Minify for Production

```sh
#in the ./survall_frontend directory
npm run build
```
The files will then be placed inside the `./survall_frontend/dist` directory. 
The files in the directory can then be served by a HTTP engine (such as NGINX or Apache)

## üî® Backend Setup
The backend is using Flask and the OpenAI API with python. The files for the authentication server can be found in `survall_auth` and the file for the question server can be found in `survall_backend`.

### Backend preparations
Optionally for both the authentication and question server a conda environment can be created. This is not nessesary for the functionality of the application.

```sh
#in the ./ root directory
conda create --name survall_backend python=3.10.0

conda activate survall_backend
```

Non-optionally install the dependencies for the backend using `pip`.

```sh
#in the ./ root directory
pip install -r requirements.txt
```

Furthermore, you need to set up your .env files. The .env.example has the same layout as a typical .env file. In the `./survall_auth` directory, the SURVALL_SECRET_KEY should be the a random string used as a private key to encrypt the login sessions. Additionally, in the `./survall_backend` directory, the OPENAI_API_KEY should be set to allow the application generate new questions dynamically.

### Running the backend
To run both backend servers, navigate to their respective sub-directories in seperate CLIs and run the following commands:

```sh
#in the ./survall_auth directory
python main.py
```

```sh
#in the ./survall_backend directory
python main.py
```
After starting both servers, no additional actions are required and the application is ready to be interacted with via the frontend client.

### Database
As an additional note, the current demo is setup to create a mock-database and inject it with mock-data in `./survall_backed/survall.db`. After initializaiton this database persists any voting responses and newly generated questions, which will be loaded when restarting the backend. The backend is setup such that the database layer can easily be swapped with a techstack fitting the requirements of the host.





